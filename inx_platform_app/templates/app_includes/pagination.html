{% load custom_filters %}

{% with query_params=filter_params|build_query_params %}
    <p class="m-0 text-muted">
        Showing {{ page_object.start_index }} to {{ page_object.end_index }}
        of {{ page_object.paginator.count }} entries
    </p>
    <ul class="pagination m-0 ms-auto">
        {% if page_object.has_previous %}
            <li class="page-item">
                {% comment %} <a class="page-link" href="?page=1{% if request.GET.search %}&search={{ request.GET.search }}{% endif %}{% if request.GET.radios_view %}&radios_view={{ request.GET.radios_view }}{% endif %}{% if request.GET.entries %}&entries={{ request.GET.entries }}{% endif %}" aria-label="First"> {% endcomment %}
                <a class="page-link" href="?page=1{{ query_params }}" aria-label="First">
                    <span aria-hidden="true">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-square-chevrons-left" width="64" height="64" viewBox="0 0 24 24" stroke-width="1.5" stroke="#9e9e9e" fill="none" stroke-linecap="round" stroke-linejoin="round">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                            <path d="M16 15l-3 -3l3 -3" />
                            <path d="M11 15l-3 -3l3 -3" />
                            <path d="M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14z" />
                        </svg>
                    </span>
                </a>
            </li>
            <li class="page-item">
                {% comment %} <a class="page-link" href="?page={{ page_object.previous_page_number }}{% if request.GET.search %}&search={{ request.GET.search }}{% endif %}{% if request.GET.radios_view %}&radios_view={{ request.GET.radios_view }}{% endif %}{% if request.GET.entries %}&entries={{ request.GET.entries }}{% endif %}" aria-label="Previous"> {% endcomment %}
                <a class="page-link" href="?page={{ page_object.previous_page_number }}{{ query_params }}" aria-label="Previous">
                    <span aria-hidden="true">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-square-chevron-left" width="64" height="64" viewBox="0 0 24 24" stroke-width="1.5" stroke="#9e9e9e" fill="none" stroke-linecap="round" stroke-linejoin="round">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                            <path d="M13 15l-3 -3l3 -3" />
                            <path d="M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z" />
                        </svg>
                    </span>
                </a>
            </li>
        {% endif %}

        {% for page in page_object.paginator.page_range %}
            {% if page_object.number == page %}
                <li class="page-item active" aria-current="page">
                    <span class="page-link">{{ page }}<span class="sr-only"></span></span>
                </li>
            {% elif page > page_object.number|add:'-4' and page < page_object.number|add:'4' %}
                <li class="page-item">
                    <a class="page-link" href="?page={{ page }}{{ query_params }}">{{ page }}</a>

                </li>
            {% elif page == page_object.number|add:'-4' or page == page_object.number|add:'4' %}
                <li class="page-item disabled">
                    <span class="page-link">...</span>
                </li>
            {% endif %}
        {% endfor %}

        {% if page_object.has_next %}
            <li class="page-item">
                {% comment %} <a class="page-link" href="?page={{ page_object.next_page_number }}{% if request.GET.search %}&search={{ request.GET.search }}{% endif %}{% if request.GET.radios_view %}&radios_view={{ request.GET.radios_view }}{% endif %}{% if request.GET.entries %}&entries={{ request.GET.entries }}{% endif %}" aria-label="Next"> {% endcomment %}
                <a class="page-link" href="?page={{ page_object.next_page_number }}{{ query_params }}" aria-label="Next">
                    <span aria-hidden="true">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-square-chevron-right" width="64" height="64" viewBox="0 0 24 24" stroke-width="1.5" stroke="#9e9e9e" fill="none" stroke-linecap="round" stroke-linejoin="round">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                            <path d="M11 9l3 3l-3 3" />
                            <path d="M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z" />
                        </svg>
                    </span>
                </a>
            </li>
            <li class="page-item">
                {% comment %} <a class="page-link" href="?page={{ page_object.paginator.num_pages }}{% if request.GET.search %}&search={{ request.GET.search }}{% endif %}{% if request.GET.radios_view %}&radios_view={{ request.GET.radios_view }}{% endif %}{% if request.GET.entries %}&entries={{ request.GET.entries }}{% endif %}" aria-label="Last"> {% endcomment %}
                <a class="page-link" href="?page={{ page_object.paginator.num_pages }}{{ query_params }}" aria-label="Last">
                    <span aria-hidden="true">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-square-chevrons-right" width="64" height="64" viewBox="0 0 24 24" stroke-width="1.5" stroke="#9e9e9e" fill="none" stroke-linecap="round" stroke-linejoin="round">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                            <path d="M8 9l3 3l-3 3" />
                            <path d="M13 9l3 3l-3 3" />
                            <path d="M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14z" />
                        </svg>
                    </span>
                </a>
            </li>
        {% endif %}
    </ul>
{% endwith %}
