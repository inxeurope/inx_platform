{% extends 'app_layouts/base.html' %}
{% load static %}
{% load humanize %}
{% load custom_filters %}

{% block content %}
  <div class="page-wrapper">
    <!-- Page body -->
    <div class="page-body">
      <div class="container-xl d-flex flex-column justify-content-center">
        <div class="row g-2 align-items-center mb-2">
          <div class="col">
            <h2 class="page-title">{{ customer.name }}</h2>
          </div>
        </div>

        <table class="table table-vcenter table-nowrap">
          <thead>
              <tr>
                  <th class="text-end">Brand</th>
                  {% for month in months.values %}
                      <th class="text-end fw-bold">{{ month.abbreviated_name }}</th>
                  {% endfor %}
              </tr>
          </thead>
          <tbody>
              {% for brand, monthly_data in sales_data.items %}
                  <tr>
                      <td class="text-end fw-bold">{{ brand }}</td>
                      {% for month_key in months.keys %}
                          {% if monthly_data.last_year|get_item:month_key %}
                              <td style="text-align: right; width: 8%">
                                  {{ monthly_data.last_year|get_item:month_key|get_item:"value"|floatformat:0|intcomma }}
                              </td>
                          {% else %}
                              <td style="text-align: right; width: 8%">0</td>
                          {% endif %}
                      {% endfor %}
                  </tr>
              {% endfor %}
          </tbody>
        </table>


      </div>
    </div>
    {% include 'app_includes/footer.html' %}
  </div>

  



{% endblock %}
